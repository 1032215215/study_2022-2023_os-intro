---
## Front matter
title: "Отчет по Лабораторной работе № 1"
subtitle: "Дисциплина:Операционные система"
author: "Ортега Вероника"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Целью данной работы является приобретение практических навыков установки операционной системы на виртуальную машину, настройки минимально необходимых для дальнейшей работы сервисов.

# Хол работы

Работу я выполняла на компютере в дисплейном классе.Вначале я перешла в нужные каталоги в терминале с помошью команды cd и,используя команду mkdir, создала каталог, названием которого стало имя пользователя 

Далее я в терминале запустила виртуальную машину, введя в команднойстроке VirtualBox. После я создала виртуальную машину и начала ее настраивать. В строку «Имя» я записала свой логин в дисплейном классе, а в строке «Версия» указала «Fedora 64-bit». Объем памяти указала 4096 Мб. В следующем окне выбрала «Создать новый виртуальный диск» и оставила предложенный тип (VDI). В формате хранения оставила «Динамический жесткий диск». После я указала размер жесткого диска, решила установить 80 Гб. И в конце нажала кнопку «Создать».
Следующим шагом я установила образ виртуального диска, который уже был загружен на компьютере и хранился в каталоге afc. (путь конкретно к файлу я
взяла из лабораторной работы) 

Начинается процесс установки. Вначале я выбрала Русский язык,
после установила нужную раскладку клавиатуры (английский и русский) и
местом установки выбрала жесткий диск и отметила автоматическую
установку Fedora на него.

Запустился процесс установки. Пока он шел, я настроила имя
пользователя (логин в дисплейном классе) и пароль.

После окончания процесса установки я корректно выключила виртуальную
машину, а после тем же способом отключила образ диска, который
устанавливала до этого.
Далее я попыталась подключить образ диска дополнений гостевой ОС через
вкладку «Устройства», однако у меня была обозначена ошибка, поэтому я
подключила его вручную. Я зашла во вкладку «Nautilus» и, открыв диск,
запустила его установку. 

Далее я снова корректно перезапустила виртуальную машину.
На этом выполнение лабораторной работы было окончено и приступила к
выполнению домашнего задания.
Вывод: Мы приобрели практические навыки установки операционной
системы на виртуальную машину, настройки минимально необходимых для
дальнейшей работы средств.

# Домашнее задание

Его я выполняла в терминале. Нужно было с помощью некоторых команд
посмотреть данные о последовательности загрузки операционной системы. Я
использовала команду «dmesg | grep -i "то, что ищем"». Так я нашла данные о
версии Linux, частоте процессора, его модели и типе обнаруженного
гипервизора. Объем доступной оперативной памяти я нашла с помощью
команды «free -m», а последовательность монтирования файловых систем – с
помощью комнады «dmesg | grep -i "mount"». Тип файловой системы
корневого раздела я попыталась посмотреть, используя команду df, однако
результата не было – название файловой системы я не нашла. Я решила
найти тип файловой системы вручную. Зашла в корневую папку и нашла ее
свойства. Там был указан тип файловой системы (ext3/ext4).(рис. @fig:001)(рис. @fig:002)
![Данные о последовательности загрузки ОС](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.9.png){#fig:001 width=70%}
![Данные о последовательности загрузки ОС](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/deber.png){#fig:002 width=70%}
# Теоретическое введение

## Настройка каталога для виртуальных машин                                                      |

1. Создание необходимых каталогов

    - Запустите терминал. Перейдите в каталог /var/tmp:

    cd /var/tmp

    - Создайте каталог с именем пользователя (совпадающий с логином студента в дисплейном классе). Для этого можно использовать команду:

    mkdir /var/tmp/`id -un`

    - Проверьте в свойствах VirtualBox месторасположение каталога для виртуальных машин:

    /var/tmp/имя_пользователя

     * Здесь имя_пользователя — логин (учётная запись) студента в дисплейном классе. Если указан другой каталог, то требуется изменить его.
2. Папка виртуальных машин

    1. Значения по умолчанию
        *Linux: $HOME/VirtualBox VMs.

    2. Графический интерфейс
        * В меню выберите Файл, Настройки.
        * Выберите Общие, поле Папка для машин по умолчанию.
        * Установите новое значение, например /var/tmp/имя_пользователя.
        * Нажмите ОК, чтобы сохранить изменения.

    3. Командная строка

        * Установим папку для виртуальных машине в /var/tmp/имя_пользователя:

        VBoxManage setproperty machinefolder /var/tmp/имя_пользователя
## Настройка хост-клавиши

    - Хост-клавишей по умолчанию является правый Ctrl.
    - По умолчанию в дисплейных классах на клавише правый Ctrl находится переключатель языка ввода.
    - Эти значения могут конфликтовать.

    1. Графический интерфейс
        * В меню выберите Файл, Настройки.
        * Выберите Ввод, вкладка Виртуальная машина.
        * Выберите Сочетание клавиш в строке Хост-комбинация.
        * Нажмите новое сочетание клавиш.
        * Нажмите ОК, чтобы сохранить изменения.

    2. Командная строка

       * Проверьте текущую комбинацию для хост-клавиши:
       VBoxManage getextradata global GUI/Input/HostKeyCombination
        - По умолчанию установлена комбинация 65508, соответствующая правой клавише Ctrl.
       * Установите нужную клавишу (в примере клавиша Menu):
       VBoxManage setextradata global GUI/Input/HostKeyCombination 65383
       * Комбинации клавиш можно, например, посмотреть на странице 
       https://pythonhosted.org/pyglet/api/pyglet.window.key-module.html.

## Создание виртуальной машины

    - Запустите менеджер виртуальных машин, введя в командной строке:

    VirtualBox &

    - Создайте новую виртуальную машину.
    - Укажите имя виртуальной машины (ваш логин в дисплейном классе), тип операционной системы — Linux, Fedora.
    - Укажите размер основной памяти виртуальной машины — от 2048 МБ.
    - Задайте конфигурацию жёсткого диска — загрузочный, VDI (VirtualBox Disk Image), динамический виртуальный диск.
   - Задайте размер диска — 80 ГБ (или больше), его расположение — в данном случае /var/tmp/имя_пользователя/fedora.vdi.
   - Выберите в VirtualBox Вашей виртуальной машины. Добавьте новый привод оптических дисков и выберите образ.
   - При установке на собственной технике используйте скачанный образ операционной системы Fedora.

## После установки

   * Войдите в ОС под заданной вами при установке учётной записью.
   * Нажмите комбинацию Win+Enter для запуска терминала.
   * Переключитесь на роль супер-пользователя:

    sudo -i
    (рис. @fig:003).

![супер-пользователя](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.1.png){#fig:003 width=70%}

## Обновления

   * Обновить все пакеты

    dnf -y update

## Повышение комфорта работы

   * Программы для удобства работы в консоли:

    dnf install tmux mc

## Автоматическое обновление

   * При необходимости можно использовать автоматическое обновление.
   * Установка программного обеспечения:

    dnf install dnf-automatic

   * Задаёте необходимую конфигурацию в файле /etc/dnf/automatic.conf.
   * Запустите таймер:

    systemctl enable --now dnf-automatic.timer
    (рис. @fig:004).

![Автоматическое обновление](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.2.png){#fig:004 width=70%}

## Отключение SELinux

   * В данном курсе мы не будем рассматривать работу с системой безопасности SELinux.
   * Поэтому отключим его.
   * В файле /etc/selinux/config замените значение

    SELINUX=enforcing
    на значение
    SELINUX=permissive

   * Перегрузите виртуальную машину:

    reboot
    (рис. @fig:005).

![Отключение SELinux](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.3.png){#fig:005 width=70%}

## Установка драйверов для VirtualBox

   * Войдите в ОС под заданной вами при установке учётной записью.
   * Нажмите комбинацию Win+Enter для запуска терминала.
   * Запустите терминальный мультиплексор tmux:

    tmux

   * Переключитесь на роль супер-пользователя:

    sudo -i

   * Установите пакет DKMS:

    dnf -y install dkms

   * В меню виртуальной машины подключите образ диска дополнений гостевой ОС.
   * Подмонтируйте диск:

    mount /dev/sr0 /media

   * Установите драйвера:

    /media/VBoxLinuxAdditions.run

   * Перегрузите виртуальную машину:

    reboot

## Настройка раскладки клавиатуры

   * Войдите в ОС под заданной вами при установке учётной записью.
   * Нажмите комбинацию Win+Enter для запуска терминала.
   * Запустите терминальный мультиплексор tmux:

    tmux

   * Переключитесь на роль супер-пользователя:

    sudo -i

   * Отредактируйте конфигурационный файл /etc/X11/xorg.conf.d/00-keyboard.conf:

    Section "InputClass"
            Identifier "system-keyboard"
            MatchIsKeyboard "on"
            Option "XkbLayout" "us,ru"
            Option "XkbVariant" ",winkeys"
            Option "XkbOptions" "grp:rctrl_toggle,compose:ralt,terminate:ctrl_alt_bksp"
    EndSection

   * Для этого можно использовать файловый менеджер mc и его встроенный редактор.
   * Перегрузите виртуальную машину:

    reboot
       (рис. @fig:006).

![Настройка раскладки клавиатуры](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.4.png){#fig:006 width=70%}

## pandoc

   * Установим pandoc:

    dnf -y install pandoc(рис. @fig:007).(рис. @fig:008)

![Установим pandoc](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.5.png){#fig:007 width=70%}
![Установим pandoc](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.6.png){#fig:008 width=70%}
 
   * Установите необходимые расширения:

pip install pandoc-fignos pandoc-eqnos pandoc-tablenos pandoc-secnos --user(рис. @fig:009).

![Установите необходимые расширения](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.7.png){#fig:009 width=70%}
## texlive

    Установим дистрибутив TeXlive:

    dnf -y install texlive texlive-\*(рис. @fig:010).

![texlive](work/study/2022-2023/Операционные системы/os-intro/labs/lab01/report/image/1.8.png){#fig:010 width=70%}


# Контрольные вопросы

1. Учетная запись пользователя содержит необходимые для идентификации пользователя при подключении к системе, а также информацию для авторизации и учёта:
  - Системное имя (user name). Оно может содержать только латинские буквы и знаки “ _ “. Также оно должно быть  уникальным.
  - Идентификатор пользователя (UID) Уникальный идентификатор пользователя в системе, целое положительное число.
  - Идентификатор группы (CID). Группа, к которой относится пользователь. Она, как минимум, одна – группа по умолчанию.
  - Полное имя (full name). Может присутствовать имя, фамилия, отчество.
  - Домашний каталог (home directory). Каталог, в который попадает пользователь после входа в систему и в котором хранятся его данные.
  - Начальная оболочка (login shell). Командная оболочка, которая запускается при входе в систему.
2. Команды терминала:
  - <команда> --help – для получения справки по команде;
  - cd – для перемещения по файловой системе;
  - ls – для просмотра содержимого каталога;
  - du <имя каталога>– для определения объёма каталога;
  - mkdir/rmdir– для создания / удаления каталогов
  - touch/rm - для создания / удаления файлов;
  - chmod– для задания определённых прав на файл / каталог;
  - history– для просмотра истории команд.
3. Файловая система – это порядок, определяющий способ организации и хранения и именования данных на различных носителях информации. Имеет классификацию: Примеры:
  - FAT32 – файловая система, представляющая собой пространство, разделенное на три части: одна область для служебных структур, форма указателей в виде таблиц и зона для хранения самих файлов.
  - ext3/ext4 – журналируемая файловая система, используется в основном в ОС с ядром Linux. Максимальный размер файла в последней версии увеличен до 16 Гб, а скорость работы значительно увеличилась.
4. С помощью команды df, введя ее в терминале. Это утилита, которая показывает список всех файловых систем по именам устройств, сообщает их размер и данные о памяти. Также можно посмотреть тип файловой cистемы вручную в свойствах папок.
5. Чтобы удалить зависший процесс, вначале мы должны узнать, какой у него id. Для этого можно использовать команду ps. После в терминале необходимо ввести команду kill <id процесса>. Либо можно воспользоваться командой killall, и это «убьет» все процессы, которые есть в данный момент. Это удобно тем, что нам не нужно знать id процесс

# Выводы

Мы приобрели практические навыки установки операционной системы на виртуальную машину, настройки минимально необходимых для дальнейшей работы средств.

# Список литературы{.unnumbered}

::: {#refs}
:::
